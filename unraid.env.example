# CWA Book Downloader - Unraid Configuration
# Copy this file to .env and configure for your setup

# =============================================================================
# REQUIRED SETTINGS - Must be configured
# =============================================================================

# CWA Integration (Required)
CWA_BASE_URL=http://your-cwa-server:8083
CWA_USERNAME=admin
CWA_PASSWORD=your-cwa-password

# =============================================================================
# VOLUME MAPPINGS - Configure paths for Unraid
# =============================================================================

# Configuration directory (contains app.db for user authentication)
# Should point to your CWA config directory
CONFIG_DIR=/mnt/user/appdata/calibre-web/config

# Calibre library directory (contains metadata.db and book files)
# Should point to your Calibre library
CALIBRE_LIBRARY_DIR=/mnt/user/media/books/calibre-library

# Book ingest directory (where downloaded books are placed for CWA to process)
# Should match CWA's ingest directory
INGEST_DIR=/mnt/user/media/books/ingest

# Application logs directory
LOGS_DIR=/mnt/user/appdata/cwa-book-downloader/logs

# Application data directory (internal database, cache)
DATA_DIR=/mnt/user/appdata/cwa-book-downloader/data

# Temporary files directory
TEMP_DIR=/tmp/cwa-book-downloader

# =============================================================================
# NETWORK SETTINGS
# =============================================================================

# Port for web interface (default: 8084)
CWA_BD_PORT=8084

# Timezone
TZ=America/New_York

# User/Group IDs for file permissions
PUID=1000
PGID=1000

# =============================================================================
# AUTHENTICATION SETTINGS
# =============================================================================

# Path to CWA's app.db file (inside container)
# This should be in your CONFIG_DIR
CWA_DB_PATH=/config/app.db

# Disable authentication for testing (NOT recommended for production)
DISABLE_AUTH=false

# =============================================================================
# BOOK DOWNLOAD SETTINGS
# =============================================================================

# Default book language
BOOK_LANGUAGE=en

# Use book title in filename
USE_BOOK_TITLE=true

# Maximum concurrent downloads
MAX_CONCURRENT_DOWNLOADS=3

# Progress update interval (seconds)
DOWNLOAD_PROGRESS_UPDATE_INTERVAL=5

# Maximum retry attempts
MAX_RETRY=10

# Default sleep between retries (seconds)
DEFAULT_SLEEP=5

# =============================================================================
# ANNA'S ARCHIVE SETTINGS
# =============================================================================

# Anna's Archive donator key (optional - improves download speed)
AA_DONATOR_KEY=

# Anna's Archive base URL (auto-detect by default)
AA_BASE_URL=auto

# =============================================================================
# NETWORK & PROXY SETTINGS
# =============================================================================

# Use Cloudflare bypass
USE_CF_BYPASS=true

# HTTP/HTTPS proxy settings (optional)
HTTP_PROXY=
HTTPS_PROXY=

# Custom DNS servers (comma-separated)
CUSTOM_DNS=

# Use DNS over HTTPS
USE_DOH=false

# DNS over HTTPS server
DOH_SERVER=

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Application environment
APP_ENV=production

# Enable debug mode
DEBUG=false

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Enable logging
ENABLE_LOGGING=true

# =============================================================================
# RESOURCE LIMITS (Optional)
# =============================================================================

# Memory limits
MEMORY_LIMIT=2G
MEMORY_RESERVATION=512M

# CPU limits
CPU_LIMIT=2.0
CPU_RESERVATION=0.5